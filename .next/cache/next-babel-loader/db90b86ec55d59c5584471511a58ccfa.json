{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport axios from \"axios\";\nimport RankManager from \"../RankManager/RankManager\";\nimport Player from \"./Player\";\nimport { DEFAULT_ID_HERO } from \"../../constants\";\nimport List from \"@material-ui/core/List\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Paper from \"@material-ui/core/Paper\";\n\nclass Rankings extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      rankings: [],\n      load: false,\n      error: false,\n      url: \"https://api.opendota.com/api/rankings?hero_id=\"\n    });\n\n    _defineProperty(this, \"loadPlayers\", idCurrentHero => {\n      const {\n        url\n      } = this.state;\n      this.preLoadPlayersList();\n      axios.get(url + idCurrentHero).then(response => {\n        this.endLoadPlayersList(response);\n      }).catch(() => {\n        this.errorLoadPlayersList();\n      });\n    });\n\n    _defineProperty(this, \"endLoadPlayersList\", response => {\n      this.setState({\n        rankings: response.data.rankings,\n        load: true\n      });\n    });\n\n    _defineProperty(this, \"errorLoadPlayersList\", () => {\n      this.setState({\n        load: true,\n        error: true\n      });\n    });\n\n    _defineProperty(this, \"preLoadPlayersList\", () => {\n      this.setState({\n        rankings: [],\n        load: false\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.loadPlayers(DEFAULT_ID_HERO);\n  }\n\n  render() {\n    const {\n      load,\n      error,\n      rankings\n    } = this.state;\n    return React.createElement(\"div\", null, React.createElement(RankManager, {\n      updateListPlayers: this.loadPlayers\n    }), !load ? React.createElement(CircularProgress, null) : error ? React.createElement(\"h2\", null, \"\\u0427\\u0442\\u043E-\\u0442\\u043E \\u043F\\u043E\\u0448\\u043B\\u043E \\u043D\\u0435 \\u0442\\u0430\\u043A...\") : React.createElement(Paper, null, React.createElement(List, null, rankings.map(item => React.createElement(Player, {\n      rank: item,\n      key: item.account_id\n    })))));\n  }\n\n}\n\nexport default Rankings;","map":null,"metadata":{},"sourceType":"module"}