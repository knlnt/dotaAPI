{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport axios from \"axios\";\nimport Loader from \"../Loader/Loader\";\nimport ErrorMessage from \"../ErrorMessage/ErrorMessage\";\n\nclass DownloadTemplate extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      load: true,\n      error: false\n    });\n\n    _defineProperty(this, \"loadData\", () => {\n      const {\n        url,\n        updateData\n      } = this.props;\n      axios.get(url).then(response => {\n        updateData(response.data);\n        this.handleEndLoad();\n      }).catch(() => {\n        this.handleErrorLoad();\n      });\n    });\n\n    _defineProperty(this, \"handleEndLoad\", () => {\n      this.setState({\n        load: false,\n        error: false\n      });\n    });\n\n    _defineProperty(this, \"handleErrorLoad\", () => {\n      this.setState({\n        load: false,\n        error: true\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  render() {\n    const {\n      children\n    } = this.props;\n    const {\n      load,\n      error\n    } = this.state;\n\n    const content = (() => {\n      if (load) return React.createElement(Loader, null);\n      if (error) return React.createElement(ErrorMessage, null);\n      return children;\n    })();\n\n    return content;\n  }\n\n}\n\nexport default DownloadTemplate;","map":null,"metadata":{},"sourceType":"module"}