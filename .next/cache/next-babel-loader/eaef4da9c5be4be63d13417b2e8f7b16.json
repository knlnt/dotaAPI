{"ast":null,"code":"import React from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { KEYS_FOR_CHART } from \"../../../constants\";\nimport withAPIRequest from \"../../WithAPIRequest/WithAPIRequest\";\nimport Chart from \"./Chart\";\nconst StyledChart = styled.div.withConfig({\n  displayName: \"Statistics__StyledChart\",\n  componentId: \"sc-1rgbnl2-0\"\n})([\"width:100%;height:400px;\"]);\n\nconst Statistics = ({\n  data\n}) => {\n  const prepareChartData = () => KEYS_FOR_CHART.map(item => {\n    return {\n      name: item.name,\n      [item.key]: data.find(row => {\n        return row.field === item.key;\n      }).sum\n    };\n  });\n\n  const totals = prepareChartData();\n  return React.createElement(StyledChart, null, React.createElement(Chart, {\n    data: totals\n  }));\n};\n\nStatistics.defaultProps = {\n  data: PropTypes.array.isRequired,\n  id: PropTypes.string.isRequired\n};\nexport default withAPIRequest(Statistics, ({\n  id\n}) => ({\n  url: \"players/\" + id + \"/totals\"\n})); // Не обращать внимания, это оставлено для себя\n// let arr = totals.reduce(\n//   (acc, curr) =>\n//     BAR_CHART_SETTINGS.keys.indexOf(curr.field) !== -1\n//       ? [\n//           ...acc,\n//           {\n//             name:\n//               KEYS_FOR_CHART[BAR_CHART_SETTINGS.keys.indexOf(curr.field)]\n//                 .name,\n//             [curr.field]: curr.sum\n//           }\n//         ]\n//       : [...acc],\n//   []","map":null,"metadata":{},"sourceType":"module"}