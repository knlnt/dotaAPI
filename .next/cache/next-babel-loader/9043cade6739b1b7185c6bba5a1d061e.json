{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport axios from \"axios\";\nimport { List, CircularProgress, Paper } from \"@material-ui/core\";\nimport RankManager from \"../RankManager/RankManager\";\nimport Player from \"./Player\";\nimport { DEFAULT_ID_HERO, BASE_URL } from \"../../constants\";\nvar URL = BASE_URL + \"rankings?hero_id=\";\n\nvar Rankings =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Rankings, _Component);\n\n  function Rankings() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Rankings);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Rankings)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      rankings: [],\n      load: true,\n      error: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleLoadPlayers\", function (idCurrentHero) {\n      _this.preLoadPlayersList();\n\n      axios.get(URL + idCurrentHero).then(function (response) {\n        _this.handleEndLoadPlayers(response);\n      })[\"catch\"](function () {\n        _this.handleErrorLoadPlayers();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEndLoadPlayers\", function (response) {\n      _this.setState({\n        rankings: response.data.rankings,\n        load: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleErrorLoadPlayers\", function () {\n      _this.setState({\n        load: false,\n        error: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"preLoadPlayersList\", function () {\n      _this.setState({\n        rankings: [],\n        load: true\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Rankings, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.handleLoadPlayers(DEFAULT_ID_HERO);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          load = _this$state.load,\n          error = _this$state.error,\n          rankings = _this$state.rankings;\n      return React.createElement(\"div\", null, React.createElement(RankManager, {\n        updateListPlayers: this.handleLoadPlayers\n      }), load ? React.createElement(CircularProgress, null) : error ? React.createElement(\"h2\", null, \"\\u0427\\u0442\\u043E-\\u0442\\u043E \\u043F\\u043E\\u0448\\u043B\\u043E \\u043D\\u0435 \\u0442\\u0430\\u043A...\") : React.createElement(Paper, null, React.createElement(List, null, rankings.map(function (item) {\n        return React.createElement(Player, {\n          player: item,\n          key: item.account_id\n        });\n      }))));\n    }\n  }]);\n\n  return Rankings;\n}(Component);\n\nexport default Rankings;","map":null,"metadata":{},"sourceType":"module"}