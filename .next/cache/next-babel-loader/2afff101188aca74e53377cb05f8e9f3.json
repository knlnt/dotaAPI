{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport { Select, MenuItem, ListItemIcon, Avatar, InputLabel } from \"@material-ui/core\";\nimport { DEFAULT_ID_HERO, BASE_URL } from \"../../constants\";\nconst StyledSelect = styled(Select).withConfig({\n  displayName: \"Heroes__StyledSelect\",\n  componentId: \"sc-1wyv6v-0\"\n})([\"width:100%;\"]);\n\nclass Heroes extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      load: true,\n      error: false,\n      heroes: [],\n      open: false,\n      currentHero: DEFAULT_ID_HERO\n    });\n\n    _defineProperty(this, \"handleLoadHeroes\", () => {\n      axios.get(BASE_URL + \"heroStats\").then(response => {\n        this.handleEndLoadHeroes(response);\n      }).catch(() => {\n        this.handleErrorLoadHeroes();\n      });\n    });\n\n    _defineProperty(this, \"handleEndLoadHeroes\", response => {\n      this.setState({\n        heroes: response.data,\n        load: false\n      });\n    });\n\n    _defineProperty(this, \"handleErrorLoadHeroes\", response => {\n      this.setState({\n        load: false,\n        error: true\n      });\n    });\n\n    _defineProperty(this, \"handleChangeSelect\", event => {\n      this.props.updateListPlayers(event.target.value);\n      this.setState({\n        currentHero: event.target.value\n      });\n    });\n\n    _defineProperty(this, \"handleCloseList\", () => {\n      this.setState({\n        open: false\n      });\n    });\n\n    _defineProperty(this, \"handleOpenList\", () => {\n      this.setState({\n        open: true\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.handleLoadHeroes();\n  }\n\n  render() {\n    const {\n      open,\n      currentHero,\n      heroes,\n      load,\n      error\n    } = this.state;\n    return React.createElement(\"div\", null, React.createElement(InputLabel, {\n      htmlFor: \"selectHero\"\n    }, \"\\u0412\\u044B\\u0431\\u043E\\u0440 \\u0433\\u0435\\u0440\\u043E\\u044F\"), React.createElement(StyledSelect, {\n      open: open,\n      onClose: this.handleCloseList,\n      onOpen: this.handleOpenList,\n      value: currentHero,\n      onChange: this.handleChangeSelect,\n      inputProps: {\n        name: \"currentHero\",\n        id: \"selectHero\"\n      }\n    }, load ? React.createElement(MenuItem, {\n      value: \"1\"\n    }, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430\") : error ? React.createElement(MenuItem, {\n      value: \"1\"\n    }, \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430\") : heroes.map(hero => React.createElement(MenuItem, {\n      value: hero.id,\n      key: hero.id\n    }, React.createElement(ListItemIcon, null, React.createElement(Avatar, {\n      alt: hero.localized_name,\n      src: \"https://api.opendota.com\" + hero.icon\n    })), hero.localized_name))));\n  }\n\n}\n\nexport default Heroes;","map":null,"metadata":{},"sourceType":"module"}