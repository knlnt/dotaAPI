{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { BASE_URL, KEYS_FOR_CHART } from \"../../../constants\";\nimport DownloadTemplate from \"../../DownloadTemplate/DownloadTemplate\";\nimport Chart from \"./Chart\";\nconst StyledChart = styled.div.withConfig({\n  displayName: \"Statistics__StyledChart\",\n  componentId: \"sc-1rgbnl2-0\"\n})([\"width:100%;height:400px;\"]);\n\nclass Statistics extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      totals: []\n    });\n\n    _defineProperty(this, \"updateData\", newValue => {\n      const createObject = (name, secondKey, sum) => {\n        let newObject = {};\n        newObject[\"name\"] = name;\n        newObject[secondKey] = sum;\n        return newObject;\n      };\n\n      this.setState(prevState => {\n        totals: newValue.forEach(item => {\n          KEYS_FOR_CHART.forEach(row => {\n            if (item.field === row.key) prevState.totals.push(createObject(row.name, row.key, item.sum));\n          });\n        });\n      });\n    });\n  }\n\n  render() {\n    const {\n      totals\n    } = this.state;\n    const {\n      id\n    } = this.props;\n    return React.createElement(StyledChart, null, React.createElement(DownloadTemplate, {\n      url: BASE_URL + \"players/\" + id + \"/totals\",\n      updateData: this.updateData\n    }, React.createElement(Chart, {\n      data: totals\n    })));\n  }\n\n}\n\nexport default Statistics;","map":null,"metadata":{},"sourceType":"module"}